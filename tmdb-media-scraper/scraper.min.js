var jsZipScript=document.createElement("script");async function downloadAndAddToZip(e,t,n){try{const o=await fetch(e),d=await o.blob();n.file(t,d),console.log(`Downloaded and added to zip: ${t}`)}catch(t){console.error(`Error downloading: ${e}`,t)}}function createAndDownloadZip(e,t){e.generateAsync({type:"blob"}).then((function(e){const n=`${t}.zip`,o=document.createElement("a");o.href=URL.createObjectURL(e),o.download=n,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),console.log("Zip file downloaded:",n)}))}function scrapeAndDownloadImages(){if("undefined"==typeof JSZip)return void console.error("JSZip library is not available.");const e=document.title,t=document.querySelectorAll("div.card-wrapper.card-hover.coral-card.m-0"),n=new JSZip,o=[];t.forEach(((e,t)=>{e.querySelectorAll("div.card-img-wrapper a").forEach(((d,c)=>{const i=d.getAttribute("href"),l=e.querySelector("h3");if(l){const e=`${l.textContent.trim()}_${t}_${c}.${i.split(".").pop()}`,d=downloadAndAddToZip(i,e,n);o.push(d)}}))})),Promise.all(o).then((()=>{createAndDownloadZip(n,e)}))}function startInfiniteScroll(){const e=setInterval((()=>{window.scrollBy(0,100)}),100),t=n=>{"Space"===n.code&&(clearInterval(e),window.scrollTo(0,0),window.removeEventListener("keydown",t))};window.addEventListener("keydown",t)}function reloadPage(){location.reload()}function addButtons(){const e=document.createElement("div");e.style.display="inline-block",e.style.marginRight="10px";const t=document.createElement("button");t.textContent="Download Images",t.addEventListener("click",scrapeAndDownloadImages),e.appendChild(t);const n=document.createElement("button");n.textContent="Start Infinite Scroll",n.addEventListener("click",startInfiniteScroll),e.appendChild(n);const o=document.createElement("button");o.textContent="Reload Page",o.addEventListener("click",reloadPage),e.appendChild(o),document.body.insertBefore(e,document.body.firstChild)}jsZipScript.src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js",document.head.appendChild(jsZipScript),addButtons(),console.log("SCRAPERSCRIPT: Successfully got injected");